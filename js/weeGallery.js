!function(){function a(a){a=a||{};for(var b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a}function b(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}}var c=function(a,b){function c(a){0!=a.length&&(f(a),s=e(b.modal),a.length>1&&(h(a),d(r,b.slider),j(),s.setImages(a.map(function(a){return{src:a.largeSrc,altText:a.altText}}))))}function f(c){p=document.createElement("a"),p.classList.add(b.previewLinkCssClass),q=document.createElement("img"),q.classList.add(b.previewImageCssClass),p.appendChild(q),g(c[0].mediumSrc,c[0].largeSrc,c[0].altText),a.appendChild(p)}function g(a,b,c){p.setAttribute("href",b),q.setAttribute("src",a),q.setAttribute("alt",c)}function h(c){r=document.createElement("ul"),r.classList.add(b.thumbnailListCssClass),c.forEach(i),a.appendChild(r),c.length>0&&n(r.querySelector("."+b.thumbnailItemCssClass))}function i(a,c){var d=document.createElement("li");d.classList.add(b.thumbnailItemCssClass),d.setAttribute("data-index",c.toString());var e=document.createElement("a");e.classList.add(b.thumbnailLinkCssClass),e.setAttribute("href",a.mediumSrc),e.setAttribute("data-large-src",a.largeSrc);var f=document.createElement("img");f.classList.add(b.thumbnailImageCssClass),f.setAttribute("src",a.smallSrc),f.setAttribute("alt",a.altText),e.appendChild(f),d.appendChild(e),r.appendChild(d)}function j(){a.addEventListener("click",k)}function k(c){for(var d=c.target;d!=a;){if(d.classList.contains(b.thumbnailLinkCssClass)){l(c,d);break}if(d.classList.contains(b.previewLinkCssClass)){m(c,d);break}d=d.parentNode}}function l(a,c){a.preventDefault();var d=c.getAttribute("href"),e=c.getAttribute("data-large-src"),f=c.querySelector("."+b.thumbnailImageCssClass),h=f.getAttribute("alt");g(d,e,h),n(c.parentNode)}function m(a,c){a.preventDefault();{var d=(c.getAttribute("href"),c.querySelector("."+b.previewImageCssClass));d.getAttribute("alt")}s.setCurrentImageIndex(t),s.open()}function n(a){o(),a.classList.add(b.thumbnailItemActiveCssClass),t=parseInt(a.getAttribute("data-index"))}function o(){var a=r.querySelector("."+b.thumbnailItemActiveCssClass);a&&a.classList.remove(b.thumbnailItemActiveCssClass)}var p,q,r,s,t=0;return{render:c}},d=function(c,d){function e(){f(),m(),s(),i()}function f(){u=document.createElement("div"),u.classList.add(D.containerCssClass),v=document.createElement("div"),v.classList.add(D.viewportCssClass),u.appendChild(v),c.parentNode.insertBefore(u,c),v.appendChild(c),c.classList.add(D.slidesCssClass);for(var a=c.querySelectorAll("li"),b=0;b<a.length;b++)a[b].classList.add(D.slideCssClass);g()}function g(){w=h("Previous",D.prevButtonCssClass,k),x=h("Next",D.nextButtonCssClass,l)}function h(a,b,c){var d=document.createElement("button"),e=document.createElement("span");return e.innerHTML=a,d.appendChild(e),d.classList.add(D.navButtonCssClass),d.classList.add(b),d.addEventListener("click",c),u.appendChild(d),d}function i(){window.addEventListener("resize",b(j,100))}function j(){m(),r(0)}function k(a){a.preventDefault(),n()}function l(a){a.preventDefault(),o()}function m(){A=v.clientWidth;var a=c.querySelectorAll("."+D.slideCssClass);a.length>0&&(z=a[0].clientWidth,y=z*a.length,c.style.width=y.toString()+"px")}function n(){0!=p()&&r(1)}function o(){0!=q()&&r(-1)}function p(){return 0>B}function q(){return y+B>A}function r(a){B+=a*z;var b=A-(y+B);b>=z&&(B+=Math.floor(b/z)*z),D.enableCssAnimation?(t(c,"Transition",".5s"),t(c,"Transform","translate("+B.toString()+"px, 0)")):c.style.marginLeft=B.toString()+"px",s()}function s(){0==p()?w.classList.add(D.navButtonDisabledCssClass):w.classList.remove(D.navButtonDisabledCssClass),0==q()?x.classList.add(D.navButtonDisabledCssClass):x.classList.remove(D.navButtonDisabledCssClass)}function t(a,b,c){a.style["ms"+b]=c,a.style["moz"+b]=c,a.style["webkit"+b]=c,a.style[b.toLowerCase()]=c}var u,v,w,x,y,z,A,B=0,C={containerCssClass:"slider",viewportCssClass:"sliderViewport",slidesCssClass:"sliderSlides",slideCssClass:"sliderSlide",navButtonCssClass:"sliderNavButton",prevButtonCssClass:"sliderPrevButton",nextButtonCssClass:"sliderNextButton",navButtonDisabledCssClass:"is-disabled",enableCssAnimation:!0},D=a({},C,d);return e(),{}},e=function(b){function c(){y=!0,d(),e(),g()}function d(){s=document.createElement("div"),s.classList.add(C.containerCssClass);var a=document.createElement("div");a.classList.add(C.wrapCssClass),s.appendChild(a);var b=document.createElement("div");b.classList.add(C.innerWrapCssClass),a.appendChild(b),u=document.createElement("div"),u.classList.add(C.contentCssClass),b.appendChild(u),t=document.createElement("div"),t.classList.add(C.backdropCssClass),s.appendChild(t),document.body.appendChild(s)}function e(){closeButton=document.createElement("button"),closeButton.innerHTML="Close",closeButton.classList.add(C.closeButtonCssClass),closeButton.addEventListener("click",h),u.appendChild(closeButton),v=document.createElement("img"),v.classList.add(C.imageCssClass),u.appendChild(v),w=f("Previous",C.prevLinkCssClass,j),x=f("Next",C.nextLinkCssClass,k)}function f(a,b,c){var d=document.createElement("a"),e=document.createElement("span");return e.innerHTML=a,d.appendChild(e),d.classList.add(C.navLinkCssClass),d.classList.add(b),d.addEventListener("click",c),u.appendChild(d),d}function g(){t.addEventListener("click",i)}function h(a){a.preventDefault(),m()}function i(a){a.preventDefault(),m()}function j(a){a.preventDefault(),o(A-1)}function k(a){a.preventDefault(),o(A+1)}function l(){y||c(),s.classList.add(C.visibleCssClass),document.querySelector("html").style.overflow="hidden"}function m(){y&&(s.classList.remove(C.visibleCssClass),document.querySelector("html").style.overflow="")}function n(a){z=a,A=0}function o(a){0>a||a>z.length-1||(A=a,p(),q())}function p(){y||c();var a=z[A];v.setAttribute("src",a.src),v.setAttribute("alt",a.altText)}function q(){r(w,0==A,A-1),r(x,A>=z.length-1,A+1)}function r(a,b,c){if(b)a.classList.add(C.disabledCssClass),a.setAttribute("href","");else{a.classList.remove(C.disabledCssClass);var d=z[c];a.setAttribute("href",d.src)}}var s,t,u,v,w,x,y=!1,z=[],A=0,B={visibleCssClass:"is-visible",disabledCssClass:"is-disabled",containerCssClass:"modal",backdropCssClass:"modal-backdrop",wrapCssClass:"modal-wrap",innerWrapCssClass:"modal-inner-wrap",contentCssClass:"modal-content",imageCssClass:"modal-image",prevLinkCssClass:"modal-prevLink",nextLinkCssClass:"modal-nextLink",navLinkCssClass:"modal-navLink",closeButtonCssClass:"modal-closeButton"},C=a({},B,b);return{open:l,close:m,setImages:n,setCurrentImageIndex:o}},f=function(a,b){function c(a,b){window.jsonFlickrApi=function(a){try{delete window.jsonFlickrApi}catch(d){}document.body.removeChild(c),e(a,b)};var c=document.createElement("script");c.src=d(a),document.body.appendChild(c)}function d(c){return j.replace("[API_KEY]",a).replace("[USER_ID]",b).replace("[PHOTOSET_ID]",c)}function e(a,b){"ok"!=a.stat?f(b):b(g(a))}function f(a){a({images:[]})}function g(a){var b={};return b.images=a.photoset.photo.map(h),b}function h(a){return{smallSrc:i(a,"s"),mediumSrc:i(a,"n"),largeSrc:i(a,"b"),altText:a.title}}function i(a,b){return k.replace("[FARM_ID]",a.farm).replace("[SERVER_ID]",a.server).replace("[ID]",a.id).replace("[SECRET]",a.secret).replace("[SIZE]",b)}var j="https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=[API_KEY]&photoset_id=[PHOTOSET_ID]&user_id=[USER_ID]&media=photos&format=json",k="https://farm[FARM_ID].staticflickr.com/[SERVER_ID]/[ID]_[SECRET]_[SIZE].jpg";return{getAlbum:c}},g=function(b,d){function e(){b.classList.add(l.containerCssClass),i=f(g("data-api-key"),g("data-user-id")),j=c(b,l);i.getAlbum(g("data-album-id"),h)}function g(a){return b.getAttribute(a)}function h(a){j.render(a.images)}var i,j,k={containerCssClass:"weeGallery",thumbnailListCssClass:"weeGallery-thumbnails",thumbnailItemCssClass:"weeGallery-thumbnailItem",thumbnailItemActiveCssClass:"is-active",thumbnailLinkCssClass:"weeGallery-thumbnailLink",thumbnailImageCssClass:"weeGallery-thumbnailImage",previewLinkCssClass:"weeGallery-previewLink",previewImageCssClass:"weeGallery-previewImage",slider:{},modal:{}},l=a({},k,d);return e(),{}};"function"==typeof define&&define.amd?define([],g):"object"==typeof exports?module.exports=g:window.weeGallery=g}();